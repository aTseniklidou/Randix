{"version":3,"sources":["webpack:///./src/pages/randix/vs-computer.tsx","webpack:///./node_modules/dom-confetti/lib/main.js","webpack:///./node_modules/react-dom-confetti/lib/confetti.js","webpack:///./src/assets/confetti.mp3"],"names":["confettiConfig","angle","spread","startVelocity","elementCount","dragFriction","duration","stagger","width","height","perspective","colors","Computer","phase","useGameState","firstUpdate","useRef","useEffect","current","GamePhase","player1Wins","document","getElementById","play","className","styles","vscomp","game","Games","randix","wrapper","hasDifficultySetting","hasSizeSetting","id","src","ConfettiSound","active","config","Object","defineProperty","exports","value","confetti","root","arguments","length","undefined","_Object$assign","assign","defaults","backwardPatch","decay","random","style","elements","createElements","fettis","map","element","physics","randomPhysics","animate","Array","from","_","index","createElement","color","position","willChange","visibility","appendChild","radAngle","Math","PI","radSpread","x","y","z","wobble","wobbleSpeed","velocity","angle2D","angle3D","tiltAngle","tiltAngleSpeed","startTime","Promise","resolve","requestAnimationFrame","update","time","elapsed","progress","slice","ceil","forEach","fetti","cos","sin","_fetti$physics","transform","opacity","updateFetti","parentNode","removeChild","delay","obj","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_react2","__esModule","default","_domConfetti","Confetti","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","setRef","bind","subClass","superClass","create","constructor","setPrototypeOf","_inherits","prevProps","container","ref","Component","module"],"mappings":"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","file":"component---src-pages-randix-vs-computer-tsx-0525f780ad0245d81f64.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Confetti from 'react-dom-confetti';\nimport ConfettiSound from '../../assets/confetti.mp3';\nimport { Board } from '../../components/Board/Board';\nimport { Buttons } from '../../components/Buttons/Buttons';\nimport { Layout } from '../../components/Layout/Layout';\nimport { Settings } from '../../components/Settings/Settings';\nimport { GamePhase, Games } from '../../model/enum';\nimport { useGameState } from '../../state/hooks/useGameState';\nimport styles from '../Page.module.scss';\n\nconst confettiConfig = {\n  angle: 90,\n  spread: 100,\n  startVelocity: 65,\n  elementCount: 90,\n  dragFriction: 0.12,\n  duration: 3000,\n  stagger: 3,\n  width: '10px',\n  height: '10px',\n  perspective: '700px',\n  colors: ['#a864fd', '#29cdff', '#78ff44', '#ff718d', '#fdff6a'],\n};\n\nconst Computer = () => {\n  const { phase } = useGameState();\n  const firstUpdate = useRef(true);\n\n  useEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n    if (phase === GamePhase.player1Wins) {\n      (document.getElementById('confettiSound') as HTMLAudioElement)?.play();\n    }\n  }, [phase]);\n  return (\n    <div className={styles.vscomp}>\n      <Layout game={Games.randix}>\n        <div className={styles.wrapper}>\n          <Settings hasDifficultySetting hasSizeSetting />\n          <Buttons />\n        </div>\n        <Board />\n      </Layout>\n      <audio id='confettiSound' src={ConfettiSound} />\n      <Confetti\n        active={phase === GamePhase.player1Wins}\n        config={confettiConfig}\n      />\n    </div>\n  );\n};\n\nexport default Computer;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.confetti = confetti;\nvar defaultColors = [\"#a864fd\", \"#29cdff\", \"#78ff44\", \"#ff718d\", \"#fdff6a\"];\n\nfunction createElements(root, elementCount, colors, width, height) {\n  return Array.from({\n    length: elementCount\n  }).map(function (_, index) {\n    var element = document.createElement(\"div\");\n    var color = colors[index % colors.length];\n    element.style[\"background-color\"] = color; // eslint-disable-line space-infix-ops\n\n    element.style.width = width;\n    element.style.height = height;\n    element.style.position = \"absolute\";\n    element.style.willChange = \"transform, opacity\";\n    element.style.visibility = \"hidden\";\n    root.appendChild(element);\n    return element;\n  });\n}\n\nfunction randomPhysics(angle, spread, startVelocity, random) {\n  var radAngle = angle * (Math.PI / 180);\n  var radSpread = spread * (Math.PI / 180);\n  return {\n    x: 0,\n    y: 0,\n    z: 0,\n    wobble: random() * 10,\n    wobbleSpeed: 0.1 + random() * 0.1,\n    velocity: startVelocity * 0.5 + random() * startVelocity,\n    angle2D: -radAngle + (0.5 * radSpread - random() * radSpread),\n    angle3D: -(Math.PI / 4) + random() * (Math.PI / 2),\n    tiltAngle: random() * Math.PI,\n    tiltAngleSpeed: 0.1 + random() * 0.3\n  };\n}\n\nfunction updateFetti(fetti, progress, dragFriction, decay) {\n  /* eslint-disable no-param-reassign */\n  fetti.physics.x += Math.cos(fetti.physics.angle2D) * fetti.physics.velocity;\n  fetti.physics.y += Math.sin(fetti.physics.angle2D) * fetti.physics.velocity;\n  fetti.physics.z += Math.sin(fetti.physics.angle3D) * fetti.physics.velocity;\n  fetti.physics.wobble += fetti.physics.wobbleSpeed; // Backward compatibility\n\n  if (decay) {\n    fetti.physics.velocity *= decay;\n  } else {\n    fetti.physics.velocity -= fetti.physics.velocity * dragFriction;\n  }\n\n  fetti.physics.y += 3;\n  fetti.physics.tiltAngle += fetti.physics.tiltAngleSpeed;\n  var _fetti$physics = fetti.physics,\n      x = _fetti$physics.x,\n      y = _fetti$physics.y,\n      z = _fetti$physics.z,\n      tiltAngle = _fetti$physics.tiltAngle,\n      wobble = _fetti$physics.wobble;\n  var wobbleX = x + 10 * Math.cos(wobble);\n  var wobbleY = y + 10 * Math.sin(wobble);\n  var transform = \"translate3d(\" + wobbleX + \"px, \" + wobbleY + \"px, \" + z + \"px) rotate3d(1, 1, 1, \" + tiltAngle + \"rad)\";\n  fetti.element.style.visibility = \"visible\";\n  fetti.element.style.transform = transform;\n  fetti.element.style.opacity = 1 - progress;\n  /* eslint-enable */\n}\n\nfunction animate(root, fettis, dragFriction, decay, duration, stagger) {\n  var startTime = void 0;\n  return new Promise(function (resolve) {\n    function update(time) {\n      if (!startTime) startTime = time;\n      var elapsed = time - startTime;\n      var progress = startTime === time ? 0 : (time - startTime) / duration;\n      fettis.slice(0, Math.ceil(elapsed / stagger)).forEach(function (fetti) {\n        updateFetti(fetti, progress, dragFriction, decay);\n      });\n\n      if (time - startTime < duration) {\n        requestAnimationFrame(update);\n      } else {\n        fettis.forEach(function (fetti) {\n          if (fetti.element.parentNode === root) {\n            return root.removeChild(fetti.element);\n          }\n        });\n        resolve();\n      }\n    }\n\n    requestAnimationFrame(update);\n  });\n}\n\nvar defaults = {\n  angle: 90,\n  spread: 45,\n  startVelocity: 45,\n  elementCount: 50,\n  width: \"10px\",\n  height: \"10px\",\n  perspective: \"\",\n  colors: defaultColors,\n  duration: 3000,\n  stagger: 0,\n  dragFriction: 0.1,\n  random: Math.random\n};\n\nfunction backwardPatch(config) {\n  if (!config.stagger && config.delay) {\n    config.stagger = config.delay;\n  }\n\n  return config;\n}\n\nfunction confetti(root) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _Object$assign = Object.assign({}, defaults, backwardPatch(config)),\n      elementCount = _Object$assign.elementCount,\n      colors = _Object$assign.colors,\n      width = _Object$assign.width,\n      height = _Object$assign.height,\n      perspective = _Object$assign.perspective,\n      angle = _Object$assign.angle,\n      spread = _Object$assign.spread,\n      startVelocity = _Object$assign.startVelocity,\n      decay = _Object$assign.decay,\n      dragFriction = _Object$assign.dragFriction,\n      duration = _Object$assign.duration,\n      stagger = _Object$assign.stagger,\n      random = _Object$assign.random;\n\n  root.style.perspective = perspective;\n  var elements = createElements(root, elementCount, colors, width, height);\n  var fettis = elements.map(function (element) {\n    return {\n      element: element,\n      physics: randomPhysics(angle, spread, startVelocity, random)\n    };\n  });\n  return animate(root, fettis, dragFriction, decay, duration, stagger);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _domConfetti = require(\"dom-confetti\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar style = {\n  position: \"relative\"\n};\n\nvar Confetti = function (_Component) {\n  _inherits(Confetti, _Component);\n\n  function Confetti(props) {\n    _classCallCheck(this, Confetti);\n\n    var _this = _possibleConstructorReturn(this, (Confetti.__proto__ || Object.getPrototypeOf(Confetti)).call(this, props));\n\n    _this.setRef = _this.setRef.bind(_this);\n    return _this;\n  }\n\n  _createClass(Confetti, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!prevProps.active && this.props.active) {\n        (0, _domConfetti.confetti)(this.container, this.props.config);\n      }\n    }\n  }, {\n    key: \"setRef\",\n    value: function setRef(ref) {\n      this.container = ref;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\"div\", {\n        className: this.props.className,\n        style: style,\n        ref: this.setRef\n      });\n    }\n  }]);\n\n  return Confetti;\n}(_react.Component);\n\nexports.default = Confetti;","module.exports = __webpack_public_path__ + \"static/confetti-029f8b14d71687feb624ddabadfac293.mp3\";"],"sourceRoot":""}